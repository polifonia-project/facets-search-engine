<form action="/search/filtered_result/" method="post">

<div class="alert alert-dark bg-white p-3 rounded shadow d-flex flex-column align-items-center">

{% csrf_token %}

{% if searchinput.composer or facet_composers %}
<select name="composer" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">

  <optgroup label = "Composers">
  {% if searchinput.composer %}
  <option selected>{{searchinput.composer}}</option>
  {% for composer in facet_composers %}
  {% if searchinput.composer != composer%}
  <option value="{{ composer }}">{{ composer | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for composer in facet_composers %}
  <option value="{{ composer }}">{{ composer | title }}</option>
  {% endfor %}
  {% endif %}
  </optgroup>
</select>
<br/>
{% endif %}

{% if searchinput.period or facet_period %}
<select  name="period" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Period">
  {% if searchinput.period %}
  <option selected>{{searchinput.period}}</option>
  {% for period in facet_period %}
  {% if searchinput.period != period %}
  <option value="{{ period }}">{{ period | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for period in facet_period %}
  <option value="{{ period }}">{{ period | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{% if searchinput.key or facet_key %}
<select name="key" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Key">
  {% if searchinput.key %}
  <option selected>{{searchinput.key}}</option>
  {% for key in facet_key %}
  {% if searchinput.key != key %}
  <option value="{{ key }}">{{ key | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for key in facet_key %}
  <option value="{{ key }}">{{ key | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{% if searchinput.timesig or facet_timesig %}
<select name="timesig" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Time Signature">
  {% if searchinput.timesig %}
  <option selected>{{searchinput.timesig}}</option>
  {% for timesig in facet_timesig %}
  {% if searchinput.timesig != timesig %}
  <option value="{{ timesig }}">{{ timesig | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for timesig in facet_timesig %}
  <option value="{{ timesig }}">{{ timesig | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{% if searchinput.instrument or facet_instrument %}
<select name="instrument" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Instruments">
  {% if searchinput.instrument %}
  <option selected>{{searchinput.instrument}}</option>
  {% for instrument in facet_instruments %}
  {% if searchinput.instrument != instrument %}
  <option value="{{ instrument }}">{{ instrument | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for instrument in facet_instruments %}
  <option value="{{ instrument }}">{{ instrument | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{% if searchinput.numofparts or facet_numofparts %}
<select name="numofparts" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Num of parts">
  {% if searchinput.numofparts %}
  <option selected>{{searchinput.numofparts}}</option>
  {% for numofparts in facet_numofparts %}
  {% if searchinput.numofparts != numofparts %}
  <option value="{{ numofparts }}">{{ numofparts | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for numofparts in facet_numofparts %}
  <option value="{{ numofparts }}">{{ numofparts | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{% if searchinput.numofmeasures or facet_numofmeasures %}
<select name="numofmeasures" class="px-4 mx-2 custom-select custom-select-sm" multiple class="chosen-select">
  <optgroup label = "Num of measures">
  {% if searchinput.numofmeasures %}
  <option selected>{{searchinput.numofmeasures}}</option>
  {% for numofmeasures in facet_numofmeasures %}
  {% if searchinput.numofmeasures != numofmeasures %}
  <option value="{{ numofmeasures }}">{{ numofmeasures | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for numofmeasures in facet_numofmeasures %}
  <option value="{{ numofmeasures }}">{{ numofmeasures | title }}</option>
  {% endfor %}
  {% endif %}
</select>
<br/>
{% endif %}

{%comment%}
<select multiple="true" name="numofnotes" class="px-4 mx-2 custom-select custom-select-sm">
  <optgroup label = "Num of notes">
  {% if searchinput.numofnotes %}
  <option selected>{{searchinput.numofnotes}}</option>
  {% for numofnotes in facet_numofnotes %}
  {% if searchinput.numofnotes != numofnotes %}
  <option value="{{ numofnotes }}">{{ numofnotes | title }}</option>
  {% endif %}
  {% endfor %}
  {% else %}
  <option selected>Not selected</option>
  {% for numofnotes in facet_numofnotes %}
  <option value="{{ numofnotes }}">{{ numofnotes | title }}</option>
  {% endfor %}
  {% endif %}
</select>
{%endcomment%}

<input class="px-4 mx-2 my-1" type="submit" value="Filter">

</div>
</form>
